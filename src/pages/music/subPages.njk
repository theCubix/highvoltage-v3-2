---
pagination:
  data: music.subPagesPrismic
  size: 1
  alias: localisedPage
  addAllPagesToCollections: true
eleventyComputed:
  title: "{{ localisedPage.data.meta_title }}"
  metaDescription: "{{ localisedPage.data.meta_description }}"
  lastMod: "{{ localisedPage.last_publication_date }}"
  translationKey: "{{ localisedPage.uid }}"
permalink: "{{ nav.music[localisedPage.lang].pathPrefix }}/{{ localisedPage.uid }}/index.html"
---

{% set data = localisedPage.data %}

{% block content %}
<div class="stack stack--3">
  <div class="music-hero stack stack-2 {%- if data.text_color == 'Black' %} music-hero--inverted {%- endif %}">
    
    <div class="music-hero__main">
      <div class="container">
        <h2>{{ data.type }}</h2>
        {{ data.title | renderAsHTML | safe }}
      </div>

      <div
        class="pin music-hero__background-image"
        style="--bg-url:url({{ data.cover_photo.Blur.url }})"
      ></div>
    </div>

    <div class="container">
      {% image src=data.cover_photo.url, alt="", attributes=[{name:"class",value:"music-hero__cover"}] %}
    </div>

  </div>

  <div class="container stack stack--3">
    {% for sliceItem in data.body %}
      {% set slice_type = sliceItem.slice_type %}
      {% import 'components/slices.njk' as slices %}
      {{ slices[slice_type](sliceItem, lang=localisedPage.lang) }}
    {% endfor %}
  </div>
</div>

{% endblock %}
{% extends 'layouts/base.njk' %}
